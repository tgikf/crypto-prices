class r{constructor(e){this.updateParent=e,setInterval(()=>{this.bestPrice?.symbol&&this.bestPrice!==this.lastPrice&&(this.lastPrice=this.bestPrice,e(this.bestPrice))},150)}socket;provider;subscribedSymbols;bestPrice;lastPrice;sleep=e=>new Promise(s=>setTimeout(s,e));close(){this.socket.close()}publish(){}async waitForReadyState(){let e=0;const s=5e3;for(;this.socket.readyState!==this.socket.OPEN&&e<s;)await this.sleep(10),e+=10;this.socket.readyState!==this.socket.OPEN&&console.error(`Socket with ${this.provider} didn't open within ${s/1e3} seconds`)}}var i=(t=>(t.BINANCE="Binance",t.COINBASE="Coinbase",t.COINFLEX="CoinFLEX",t.BITMEX="BitMEX",t))(i||{});export{r as G,i as S};
